<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Document sans nom</title>
<link href="../css/base.css" rel="stylesheet" type="text/css">
</head>

<body>
<div id="AU_e4ecb26d-f41e-4462-8660-ffa5cf313c7c" uri="ImagesUri_../download/d7372f46-d115-41d3-a503-a3b7f321295f/images\">
  <h1>Création de l’exécutable</h1>
  <p>À ce stade, il est temps de tester  l’application indépendamment d’Eclipse.</p>
  <p>Il faut donc créer un exécutable  (cf. chapitre Prise en main d’Eclipse, section Premier exécutable).</p>
  <p>Afin de se simplifier la vie concernant toutes  les librairies à importer, le projet Maven est utilisé pour  récupérer toutes les dépendances, c’est-à-dire  tous les fichiers .jar nécessaires à l’application  pour fonctionner.</p>
  <p>En effet, un projet développé dans  Eclipse bénéficie du support de l’application Eclipse  elle-même : les librairies nécessaires  et manquantes sont rajoutées silencieusement. Mais  les utilisateurs de vos applications futures ne connaîtront  peut-être jamais Eclipse ! L’objectif est de leur  donner une application qui soit auto-suffisante : un voire  deux fichiers seulement doivent suffire à faire démarrer  cette application ou à l’installer.</p>
  <div>
    <p> Créez un fichier nommé <strong>pom.xml</strong> à la racine du projet.</p>
  </div>
  <pre>&lt;project&gt;       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;       &lt;name&gt;ENI Java 8&lt;/name&gt;          &lt;groupId&gt;com.eni&lt;/groupId&gt;       &lt;artifactId&gt;java8&lt;/artifactId&gt;       &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;          &lt;repositories&gt;           &lt;repository&gt;               &lt;id&gt;central&lt;/id&gt;               &lt;name&gt;Maven Repository Switchboard&lt;/name&gt;               &lt;layout&gt;default&lt;/layout&gt;               &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;               &lt;snapshots&gt;                   &lt;enabled&gt;false&lt;/enabled&gt;               &lt;/snapshots&gt;           &lt;/repository&gt;       &lt;/repositories&gt;          &lt;pluginRepositories&gt;           &lt;pluginRepository&gt;               &lt;id&gt;central&lt;/id&gt;               &lt;name&gt;Maven Plugin Repository&lt;/name&gt;               &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;               &lt;layout&gt;default&lt;/layout&gt;               &lt;snapshots&gt;                   &lt;enabled&gt;false&lt;/enabled&gt;               &lt;/snapshots&gt;               &lt;releases&gt;                   &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;               &lt;/releases&gt;           &lt;/pluginRepository&gt;       &lt;/pluginRepositories&gt;          &lt;dependencies&gt;              &lt;dependency&gt;               &lt;groupId&gt;junit&lt;/groupId&gt;               &lt;artifactId&gt;junit&lt;/artifactId&gt;               &lt;version&gt;4.12&lt;/version&gt;               &lt;scope&gt;test&lt;/scope&gt;           &lt;/dependency&gt;              &lt;dependency&gt;               &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;               &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;               &lt;version&gt;6.1.0&lt;/version&gt;           &lt;/dependency&gt;           &lt;dependency&gt;               &lt;groupId&gt;mysql&lt;/groupId&gt;               &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;               &lt;version&gt;5.1.35&lt;/version&gt;           &lt;/dependency&gt;           &lt;dependency&gt;               &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;               &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;               &lt;version&gt;2.6.0&lt;/version&gt;           &lt;/dependency&gt;              &lt;dependency&gt;               &lt;groupId&gt;com.jgoodies&lt;/groupId&gt;               &lt;artifactId&gt;jgoodies-forms&lt;/artifactId&gt;               &lt;version&gt;1.6.0&lt;/version&gt;           &lt;/dependency&gt;              &lt;dependency&gt;               &lt;groupId&gt;com.miglayout&lt;/groupId&gt;               &lt;artifactId&gt;miglayout-swing&lt;/artifactId&gt;               &lt;version&gt;5.0&lt;/version&gt;           &lt;/dependency&gt;              &lt;dependency&gt;               &lt;groupId&gt;org.slf4j&lt;/groupId&gt;               &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;               &lt;version&gt;1.7.12&lt;/version&gt;           &lt;/dependency&gt;           &lt;dependency&gt;               &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;               &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;               &lt;version&gt;1.1.3&lt;/version&gt;           &lt;/dependency&gt;          &lt;/dependencies&gt;       &lt;properties&gt;           &lt;java.version&gt;1.8&lt;/java.version&gt;           &lt;project.build.sourceEncoding&gt;                       UTF-8&lt;/project.build.sourceEncoding&gt;       &lt;/properties&gt;       &lt;build&gt;           &lt;plugins&gt;               &lt;plugin&gt;                   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;                   &lt;artifactId&gt;                       maven-compiler-plugin&lt;/artifactId&gt;                   &lt;version&gt;3.3&lt;/version&gt;                   &lt;configuration&gt;                       &lt;source&gt;${java.version}&lt;/source&gt;                       &lt;target&gt;${java.version}&lt;/target&gt;                   &lt;/configuration&gt;               &lt;/plugin&gt;           &lt;/plugins&gt;       &lt;/build&gt;   &lt;/project&gt;  </pre>
  <p>Ce fichier liste toutes les dépendances  dont a besoin l’application Luna pour fonctionner nominalement.</p>
  <div>
    <p> Sélectionnez le projet et, dans le  menu clic droit, choisissez l’option <strong>Configure - Convert to Maven Project</strong>.</p>
  </div>
  <div>
    <p>Au bout d’un moment, un petit M décore  l’icône du projet dans l’explorateur de packages et un  nouvel élément apparaît dans la liste  du projet : <strong>Maven Dependencies</strong>.</p>
  </div>
  <div>
    <p> Enlevez toutes les librairies que vous aviez  rajouté dans le Build Path : elles sont maintenant  présentes dans le projet grâce à Maven.</p>
  </div>
  <div>
    <p> Effectuez à nouveau un clic droit  sur votre projet et choisissez l’option <strong>Export…</strong>.</p>
  </div>
  <div>
    <p> Dans la boîte de dialogue qui s’ouvre,  sélectionnez <strong>Runnable JAR file</strong>.</p>
  </div>
  <div>
    <div><img alt="images/14-39.png" src="images/images_14-39.png"></div>
  </div>
  <div>
    <p> Cliquez sur <strong>Next</strong>. Dans l’écran suivant, vérifiez que  l’option <strong>Extract required libraries into generated JAR</strong> est bien cochée.</p>
  </div>
  <div>
    <div><img alt="images/14-40.png" src="images/images_14-40.png"></div>
  </div>
  <div>
    <p> Placez le fichier généré dans  un dossier, que vous pouvez par exemple appeler <strong>Luna</strong>.</p>
  </div>
  <div>
    <p> Copiez dans ce dossier le dossier <strong>jasper</strong> présent dans le projet Eclipse.</p>
  </div>
  <div>
    <div><img alt="images/14-41.png" src="images/images_14-41.png"></div>
  </div>
  <div>
    <p> Pour finir, fermez Eclipse et testez l’application  jar en vérifiant que les états Jasper sont fonctionnels.</p>
  </div>
  <div>
    <div><img src="images/images_PUCE.PNG" alt="" width="20"></div>
    <div>
      <p>Pourquoi séparer les états,  et ne pas les incorporer dans le jar ? Parce qu’il sera plus  simple de faire des modifications sur les rapports dans ce cas :  il n’y aura pas besoin de redistribuer l’application complète.</p>
    </div>
  </div>
  <p>Des états Jasper pour les clients  et les articles sont disponibles en téléchargement  depuis la page Informations générales. Nous vous  laissons le soin à ce stade de les intégrer au  projet Luna. </p>
</div>
</body>
</html>
