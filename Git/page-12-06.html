<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Document sans nom</title>
<link href="../css/base.css" rel="stylesheet" type="text/css">
</head>

<body>
<div id="AU_a9a5889a-bec3-4d58-9014-8712246aa10b" uri="ImagesUri_../download/a0ebc04d-1620-46fa-82db-78bccc486529/images\">
  <h1>Bitbucket</h1>
  <p>Lorsque les développeurs évoquent  des services d’hébergement de dépôt,  le principal site dont ils parlent est GitHub, notamment grâce  aux très populaires projets libres qu’il héberge  (le noyau Linux, Django, Bootstrap, etc.). Cependant, GitHub  n’est pas le seul, il existe également Bitbucket  qui se fait beaucoup plus discret alors qu’il possède  de nombreux points communs avec GitHub.</p>
  <p>Bitbucket est un service en ligne qui offre  beaucoup de fonctionnalités :</p>
  <div>
    <ul>
      <li>
        <p>Stockage de dépôts  en ligne : cela permet de travailler à plusieurs sur le  dépôt stocké chez Bitbucket.</p>
      </li>
      <li>
        <p>Visualisation du dépôt  : l’interface web permet de prendre connaissance des modifications  effectuées dans le dépôt. L’interface  est claire et est plus agréable à utiliser que  la ligne de commande pour la consultation, bien qu’elle puisse être  déconcertante pour les inconditionnels de la console !</p>
      </li>
      <li>
        <p>Réseau social : avec un  système de compte personnel, il est possible de participer à des  projets libres. Le profil du compte affiche les participations de l’utilisateur  aux projets.</p>
      </li>
      <li>
        <p>Modification en direct : si un développeur  doit faire une modification très simple dans un fichier,  il peut le faire directement à partir de l’interface web. Bitbucket  permet d’éditer les fichiers et de les commiter à partir  d’un compte utilisateur. Bien évidemment, pour  des modifications conséquentes il vaut mieux passer par  le dépôt local.</p>
      </li>
    </ul>
  </div>
  <p>Bitbucket possède en outre quelques  avantages comparé à GitHub :</p>
  <div>
    <ul>
      <li>
        <p>Business model favorisant  les indépendants et les petites entreprises travaillant  sur de nombreux projets, car GitHub et Bitbucket segmentent les dépôts  en deux parties : les dépôts publics qui sont  accessibles par n’importe qui et les dépôts privés  qui sont accessibles par une équipe définie par l’administrateur du  dépôt. Bitbucket favorise les petites équipes,  car il ne pose aucune limite au nombre de dépôts  privés stockés, mais il facture les équipes  supérieures à cinq développeurs en fonction  de leur nombre. GitHub en revanche ne met aucune limite  au nombre de collaborateurs, mais il facture un nombre de dépôts  privés. Voici un exemple des tarifs de Bitbucket et GitHub  (en septembre 2015) :</p>
      </li>
    </ul>
  </div>
  <div>
    <div><img alt="images/10E01.png" src="http://www.eni-training.com/download/a0ebc04d-1620-46fa-82db-78bccc486529/images/10E01.png?id=AAEAAAD%2f%2f%2f%2f%2fAQAAAAAAAAAMAgAAAE1FbmkuRWRpdGlvbnMuTWVkaWFwbHVzLCBWZXJzaW9uPTEuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49bnVsbAUBAAAAJ0VuaS5FZGl0aW9ucy5NZWRpYXBsdXMuQ29tbW9uLldhdGVybWFyawIAAAAHcGlzVGV4dAlwaWR0ZURhdGUBAA0CAAAABgMAAAAyT0RPVUwgQWxhaW4gLSA1NDJhM2ZhMC1kYTJkLTQzMzctOTE5Zi05OGQ1MmM5ZjhiN2FZOJ%2fFiOvTiAsA"></div>
  </div>
  <p>Tarifs de Bitbucket</p>
  <div>
    <div><img alt="images/10E02.png" src="http://www.eni-training.com/download/a0ebc04d-1620-46fa-82db-78bccc486529/images/10E02.png?id=AAEAAAD%2f%2f%2f%2f%2fAQAAAAAAAAAMAgAAAE1FbmkuRWRpdGlvbnMuTWVkaWFwbHVzLCBWZXJzaW9uPTEuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49bnVsbAUBAAAAJ0VuaS5FZGl0aW9ucy5NZWRpYXBsdXMuQ29tbW9uLldhdGVybWFyawIAAAAHcGlzVGV4dAlwaWR0ZURhdGUBAA0CAAAABgMAAAAyT0RPVUwgQWxhaW4gLSA1NDJhM2ZhMC1kYTJkLTQzMzctOTE5Zi05OGQ1MmM5ZjhiN2FZOJ%2fFiOvTiAsA"></div>
  </div>
  <p>Tarifs de GitHub</p>
  <div>
    <ul>
      <li>
        <p>Compatibilité avec  Mercurial : Bitbucket offre également une compatibilité avec  Mercurial. Il permet donc d’utiliser les deux types de SCM.</p>
      </li>
    </ul>
  </div>
  <div>
    <h2>1. Création d’un compte</h2>
    <p>Pour les besoins de ce chapitre, Raphaël  va créer un compte sur Bitbucket comme s’il ne possédait  aucun compte. Il se connecte donc sur <a href="https://bitbucket.org" target="_blank">https://bitbucket.org</a>, clique sur le bouton <strong>Get started for free</strong>, puis entre ses informations personnelles nécessaires à la  création du compte.</p>
    <div>
      <div><img src="http://www.eni-training.com/download/a0ebc04d-1620-46fa-82db-78bccc486529/images/PUCE.PNG?id=AAEAAAD%2f%2f%2f%2f%2fAQAAAAAAAAAMAgAAAE1FbmkuRWRpdGlvbnMuTWVkaWFwbHVzLCBWZXJzaW9uPTEuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49bnVsbAUBAAAAJ0VuaS5FZGl0aW9ucy5NZWRpYXBsdXMuQ29tbW9uLldhdGVybWFyawIAAAAHcGlzVGV4dAlwaWR0ZURhdGUBAA0CAAAABgMAAAAyT0RPVUwgQWxhaW4gLSA1NDJhM2ZhMC1kYTJkLTQzMzctOTE5Zi05OGQ1MmM5ZjhiN2FZOJ%2fFiOvTiAsA" alt="" width="20px"></div>
      <div>
        <p>La traduction française du  site n’est pas complète à l’heure où ces  lignes sont écrites. Pour éviter d’afficher les  deux langues simultanément et de créer de la confusion,  les exemples de ce livre seront présentés uniquement  en anglais.</p>
      </div>
    </div>
    <p>Une fois le compte créé,  Bitbucket envoie un mail contenant un lien permettant de valider  la création du compte. Après avoir suivi ce lien,  une page d’accueil s’affiche : </p>
    <div>
      <div><img alt="images/10E03.png" src="http://www.eni-training.com/download/a0ebc04d-1620-46fa-82db-78bccc486529/images/10E03.png?id=AAEAAAD%2f%2f%2f%2f%2fAQAAAAAAAAAMAgAAAE1FbmkuRWRpdGlvbnMuTWVkaWFwbHVzLCBWZXJzaW9uPTEuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49bnVsbAUBAAAAJ0VuaS5FZGl0aW9ucy5NZWRpYXBsdXMuQ29tbW9uLldhdGVybWFyawIAAAAHcGlzVGV4dAlwaWR0ZURhdGUBAA0CAAAABgMAAAAyT0RPVUwgQWxhaW4gLSA1NDJhM2ZhMC1kYTJkLTQzMzctOTE5Zi05OGQ1MmM5ZjhiN2FZOJ%2fFiOvTiAsA"></div>
    </div>
    <p>Après avoir cliqué sur le  bouton <strong>Create a repository</strong>, un formulaire s’affiche alors dont il faudra remplir  plusieurs champs :</p>
    <div>
      <ul>
        <li>
          <p><strong>Name</strong> : définit le nom du projet. Dans cet exemple  : <strong>AnniversaireListe</strong>.</p>
        </li>
        <li>
          <p><strong>Description</strong> : c’est une description simple du projet. Il ne faut  pas copier tout le contenu du fichier README dans ce champ. Dans cet exemple : <strong>Mémo pour les anniversaires de proches</strong>.</p>
        </li>
        <li>
          <p><strong>Access level</strong> : lorsque ce champ est coché, le projet est  privé, il ne sera donc accessible qu’aux personnes autorisées.  Dans cet exemple, la case sera cochée. </p>
        </li>
        <li>
          <p><strong>Forking</strong> : le fait de forker un dépôt  correspond à cloner un dépôt, à la  différence que le fork est effectué par le biais  d’un hébergeur de dépôts tel  que GitHub, Bitbucket ou encore GitLab (qui permet d’héberger  soi-même ses propres dépôts).</p>
        </li>
        <li>
          <p><strong>Repository type</strong> : permet de choisir si le dépôt est  de type Git ou de type Mercurial. Dans cet exemple, <strong>Git</strong>.</p>
        </li>
        <li>
          <p><strong>Project management</strong> : permet d’utiliser des outils supplémentaires.  Ces outils sont facultatifs. Dans cet exemple, aucun outil supplémentaire  ne sera utilisé.</p>
        </li>
        <li>
          <p><strong>Language</strong> : permet de définir le langage principal utilisé dans  le projet (ici : JavaScript).</p>
        </li>
        <li>
          <p><strong>HipChat</strong> : permet d’utiliser un outil de chat proposé par  Atlassian, le même éditeur que Bitbucket.</p>
        </li>
      </ul>
    </div>
    <div>
      <div><img alt="IMAGES/10E03A.png" src="http://www.eni-training.com/download/a0ebc04d-1620-46fa-82db-78bccc486529/images/10E03A.png?id=AAEAAAD%2f%2f%2f%2f%2fAQAAAAAAAAAMAgAAAE1FbmkuRWRpdGlvbnMuTWVkaWFwbHVzLCBWZXJzaW9uPTEuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49bnVsbAUBAAAAJ0VuaS5FZGl0aW9ucy5NZWRpYXBsdXMuQ29tbW9uLldhdGVybWFyawIAAAAHcGlzVGV4dAlwaWR0ZURhdGUBAA0CAAAABgMAAAAyT0RPVUwgQWxhaW4gLSA1NDJhM2ZhMC1kYTJkLTQzMzctOTE5Zi05OGQ1MmM5ZjhiN2FZOJ%2fFiOvTiAsA"></div>
    </div>
    <p>Une fois le formulaire validé, Bitbucket  redirige vers la page d’accueil du dépôt nouvellement  créé. Cette page est composée d’un  menu sur la gauche qui permet d’effectuer un certain  nombre d’actions sur le dépôt. </p>
    <div>
      <div><img alt="IMAGES/10E03B.png" src="http://www.eni-training.com/download/a0ebc04d-1620-46fa-82db-78bccc486529/images/10E03B.png?id=AAEAAAD%2f%2f%2f%2f%2fAQAAAAAAAAAMAgAAAE1FbmkuRWRpdGlvbnMuTWVkaWFwbHVzLCBWZXJzaW9uPTEuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49bnVsbAUBAAAAJ0VuaS5FZGl0aW9ucy5NZWRpYXBsdXMuQ29tbW9uLldhdGVybWFyawIAAAAHcGlzVGV4dAlwaWR0ZURhdGUBAA0CAAAABgMAAAAyT0RPVUwgQWxhaW4gLSA1NDJhM2ZhMC1kYTJkLTQzMzctOTE5Zi05OGQ1MmM5ZjhiN2FZOJ%2fFiOvTiAsA"></div>
    </div>
  </div>
  <div>
    <h2>2. Envoyer un dépôt local vers Bitbucket</h2>
    <p>Pour importer les éléments  de son dépôt local, Raphaël va utiliser  les commandes suivantes à partir du dossier de son dépôt : </p>
    <pre>git remote add origin   https://rdauzon@bitbucket.org/rdauzon/anniversaireliste.git    git push -u origin --all</pre>
    <p>La première commande permet de renseigner  dans la configuration du dépôt local le dépôt  distant auquel il faut se référer. La deuxième  commande permet d’envoyer les éléments  du dépôt local vers le dépôt  distant. Lors de l’exécution de la deuxième  commande, le mot de passe du compte Bitbucket est demandé. Cette  mesure de sécurité permet de ne pas autoriser  n’importe qui à envoyer ses données. </p>
    <p>La documentation de Bitbucket conseille d’exécuter également  une commande permettant d’envoyer les tags du dépôt. Étant  donné que le dépôt ne contient aucun  tag, cette commande n’est pas utilisée. Voici  néanmoins la commande qui permet d’envoyer les  tags du dépôt :</p>
    <pre>git push -u origin --tags  </pre>
    <p>Après avoir envoyé les éléments  du dépôt vers Bitbucket, il est possible de consulter  la liste des commits en cliquant sur le menu <strong>Commits</strong>. La liste s’affiche alors avec le  seul commit actuel : </p>
    <div>
      <div><img alt="images/10E04.png" src="http://www.eni-training.com/download/a0ebc04d-1620-46fa-82db-78bccc486529/images/10E04.png?id=AAEAAAD%2f%2f%2f%2f%2fAQAAAAAAAAAMAgAAAE1FbmkuRWRpdGlvbnMuTWVkaWFwbHVzLCBWZXJzaW9uPTEuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49bnVsbAUBAAAAJ0VuaS5FZGl0aW9ucy5NZWRpYXBsdXMuQ29tbW9uLldhdGVybWFyawIAAAAHcGlzVGV4dAlwaWR0ZURhdGUBAA0CAAAABgMAAAAyT0RPVUwgQWxhaW4gLSA1NDJhM2ZhMC1kYTJkLTQzMzctOTE5Zi05OGQ1MmM5ZjhiN2FZOJ%2fFiOvTiAsA"></div>
    </div>
  </div>
  <div>
    <h2>3. Éditer un fichier sur Bitbucket</h2>
    <p>Pour cela, Raphaël doit cliquer sur  le lien <strong>Source</strong> présent dans le menu. Les fichiers et  dossiers présents à la racine du dépôt  s’affichent. Il est possible de naviguer dans cette arborescence  par l’intermédiaire des liens présents sur les noms  des dossiers. Pour éditer ou consulter un fichier, il faut  cliquer sur le nom de ce fichier.</p>
    <p>Le contenu du fichier s’affiche alors  dans un encadré en haut duquel se situent plusieurs boutons : </p>
    <div>
      <ul>
        <li>
          <p>Le bouton de suivi  d’historique contenant les informations sur les commits ayant  modifié le fichier.</p>
        </li>
        <li>
          <p>Le bouton <strong>Blame</strong>, qui permet d’effectuer l’équivalent  d’un git blame directement à partir  de l’interface web. Ce bouton permet d’afficher  les informations sur les lignes du fichier (développeur  qui a modifié la ligne et commité).</p>
        </li>
        <li>
          <p>Le bouton <strong>Raw</strong> permet de télécharger ou d’afficher  le fichier sous forme brute, c’est-à-dire sans  aucune mise en forme ni coloration syntaxique.</p>
        </li>
        <li>
          <p>Le bouton <strong>Edit</strong> permet d’éditer le fichier.</p>
        </li>
        <li>
          <p>À droite du bouton <strong>Edit</strong> se situe un bouton composé d’un petit  triangle, qui permet de renommer ou de supprimer le fichier.</p>
        </li>
      </ul>
    </div>
    <div>
      <div><img alt="IMAGES/10E04A.png" src="http://www.eni-training.com/download/a0ebc04d-1620-46fa-82db-78bccc486529/images/10E04A.png?id=AAEAAAD%2f%2f%2f%2f%2fAQAAAAAAAAAMAgAAAE1FbmkuRWRpdGlvbnMuTWVkaWFwbHVzLCBWZXJzaW9uPTEuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49bnVsbAUBAAAAJ0VuaS5FZGl0aW9ucy5NZWRpYXBsdXMuQ29tbW9uLldhdGVybWFyawIAAAAHcGlzVGV4dAlwaWR0ZURhdGUBAA0CAAAABgMAAAAyT0RPVUwgQWxhaW4gLSA1NDJhM2ZhMC1kYTJkLTQzMzctOTE5Zi05OGQ1MmM5ZjhiN2FZOJ%2fFiOvTiAsA"></div>
    </div>
    <p>Il faut ajouter le commentaire suivant avant  la définition de la fonction JavaScript anniv_liste() :</p>
    <pre>/* Cette fonction affiche sur la page la liste des anniversaires   stockés dans le localstorage du navigateur */  </pre>
    <p>Une fois cette modification effectuée,  Raphaël décide de la commiter en cliquant sur  le bouton <strong>Commit</strong>. Il entre alors le message de commit suivant : </p>
    <pre>Documentation de la fonction anniv_liste()  </pre>
    <p>Pour finaliser le commit, Raphaël  clique sur le bouton <strong>Commit</strong>.</p>
    <p>Ce commit a uniquement été ajouté sur  Bitbucket. Si Raphaël exécute à partir de  son interface la commande git log,  il ne trouvera aucune trace de ce commit ; c’est parce que le dépôt  local n’a aucune trace de ce commit.</p>
  </div>
  <div>
    <h2>4. Récupérer les modifications du dépôt  distant</h2>
    <p>La modification qui vient d’être  commitée sur Bitbucket existe uniquement sur le dépôt  distant. Le dépôt local n’a aucune information  sur cette dernière modification. Pour que le dépôt  local connaisse ce commit, il va falloir l’intégrer à partir  du dépôt distant.</p>
    <p>Pour cela, Raphaël exécute  la commande suivante :</p>
    <pre>git pull</pre>
    <p>La commande git log affiche  alors les deux commits : le premier commit et celui effectué à partir  de l’interface de Bitbucket.</p>
  </div>
</div>
<div id="AU_a9a5889a-bec3-4d58-9014-8712246aa10b" uri="ImagesUri_../download/a0ebc04d-1620-46fa-82db-78bccc486529/images\">
  <div> </div>
</div>
<div id="CFooter"> </div>
</body>
</html>
